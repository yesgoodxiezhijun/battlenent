{"remainingRequest":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!E:\\项目\\battlenent\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\项目\\battlenent\\vue_app_00\\src\\components\\home\\Cart.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\项目\\battlenent\\vue_app_00\\src\\components\\home\\Cart.vue","mtime":1553134924000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      noneconet: 0,\n      none: \"none\",\n      zong: 0,\n      cb: false,\n      allcb: false\n    };\n  },\n  methods: {\n    deletecart: function deletecart(e) {\n      var _this = this;\n\n      var cid = e.target.dataset.cid;\n      var idx = e.target.dataset.idx;\n      var url = \"http://127.0.0.1:3000/deletecart?cid=\" + cid;\n      this.axios.get(url).then(function (result) {\n        if (result.data.code == 1) {\n          Toast(\"删除成功\");\n\n          _this.list.splice(idx, 1);\n        }\n      });\n    },\n    fanhui: function fanhui() {\n      var pid = this.$route.query.pid;\n\n      if (pid == undefined) {\n        this.$router.push(\"/Home\");\n      } else {\n        this.$router.push(\"/Detail?pid=\" + pid);\n      }\n    },\n    appcart: function appcart() {\n      var _this2 = this;\n\n      var url = \"http://127.0.0.1:3000/appcart\";\n      this.axios.get(url).then(function (result) {\n        if (result.data.code == -1) {\n          Toast(\"请登录\");\n          return;\n        }\n\n        var rows = result.data.data;\n\n        _this2.$store.commit(\"updateCount\", rows.length);\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var item = _step.value;\n            _this2.zong += item.price;\n            item.cb = false;\n            _this2.list = rows;\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      });\n    },\n    selectall: function selectall(e) {\n      var conet = this.noneconet++;\n      var allcbitem = 1;\n\n      if (conet % 2 == 1) {\n        this.none = \"none\";\n        allcbitem = false;\n      } else {\n        this.none = \"block\";\n        allcbitem = true;\n      }\n\n      var cb = allcbitem;\n      this.allcb = cb;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var tiem = _step2.value;\n          tiem.cb = cb;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    },\n    deleteitem: function deleteitem(e) {\n      var idx = e.target.dataset.i;\n      var checked = e.target.checked;\n      this.list[idx].cb = checked;\n      var count = 0;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.list[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var item = _step3.value;\n          if (item.cb) count++;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      if (count == this.list.length) {\n        this.allcb = true;\n        this.none = \"block\";\n      } else {\n        this.allcb = false;\n        this.none = \"none\";\n      }\n    },\n    deletequan: function deletequan() {\n      var html = \"\";\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.list[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var item = _step4.value;\n\n          if (item.cb) {\n            console.log(item);\n            html += item.cid + \",\";\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      html = html.substring(0, html.length - 1);\n      var url = \"http://127.0.0.1:3000/\";\n      url += \"removeduoge?cids=\" + html;\n      this.axios.get(url).then(function (result) {\n        if (result.data.code == 1) {\n          Toast(\"删除成功\");\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.appcart();\n  }\n};",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n   <div class=\"app-cart\">\r\n      <div class=\"app-cart-nav\">\r\n          <span @click=\"fanhui\">返回 &gt;</span>\r\n          <b>购物车</b>\r\n      </div>\r\n      <div class=\"app-cart-footer\">\r\n          <button>下单</button>\r\n          <b >￥{{zong}}.00</b>\r\n        <span @click=\"selectall\"><img src=\"../image/cart1.png\" alt=\"\" :style=\"'display:'+none\"></span>\r\n        <span>已选</span>\r\n        <button @click=\"deletequan\" class=\"deletequan\">删除</button>\r\n      </div>\r\n      <!--  ============================   -->\r\n       <div class=\"cart-contarner\" v-for=\"(item,i) of list\" :key=\"item.cid\"   >\r\n         <input type=\"checkbox\" @click=\"deleteitem\" :checked=\"item.cb\" :data-i=\"i\">\r\n         <div class=\"cart-contarner-img\">    \r\n             <img :src=\"item.img_url\" alt=\"\">\r\n         </div>\r\n        <div>\r\n            <h3>{{item.title}}</h3>\r\n            <span>限定礼包</span>\r\n            <h5>￥{{item.price}}.00</h5>\r\n        </div>\r\n        <div class=\"btn-delete\">\r\n            <button @click=\"deletecart\"  :data-cid=\"item.cid\" :data-idx=\"i\">删除</button>\r\n        </div>\r\n       </div>\r\n     <div class=\"footer\"></div>\r\n   </div>\r\n</template>\r\n<script>\r\n import {Toast} from \"mint-ui\";\r\nexport default {\r\n    data(){return{\r\n         list:[],\r\n         noneconet:0,\r\n         none:\"none\",\r\n         zong:0,\r\n         cb:false,\r\n         allcb:false\r\n    }},\r\n    methods: {\r\n        deletecart(e){\r\n             var cid=e.target.dataset.cid;\r\n             var idx=e.target.dataset.idx;\r\n             var url=\"http://127.0.0.1:3000/deletecart?cid=\"+cid;\r\n             this.axios.get(url).then(result=>{\r\n                 if(result.data.code==1){\r\n                     Toast(\"删除成功\");\r\n                     this.list.splice(idx,1);\r\n                 }\r\n                     \r\n                \r\n             })\r\n        },\r\n        fanhui(){\r\n             var pid=this.$route.query.pid;\r\n             if(pid==undefined){\r\n                this.$router.push(\"/Home\"); \r\n             }else{\r\n                 this.$router.push(\"/Detail?pid=\"+pid);\r\n             }\r\n        },\r\n        appcart(){\r\n           var url=\"http://127.0.0.1:3000/appcart\"\r\n           this.axios.get(url).then(result=>{\r\n               if(result.data.code == -1){\r\n                   Toast(\"请登录\");\r\n                   return;\r\n               }\r\n               var rows=result.data.data;\r\n               this.$store.commit(\"updateCount\",rows.length);\r\n               for(var item of rows){\r\n                  this.zong+=item.price;\r\n                  item.cb=false;\r\n                  this.list=rows;\r\n               }  \r\n              \r\n           })\r\n        },\r\n        selectall(e){\r\n            var conet=this.noneconet++;\r\n            var allcbitem=1;\r\n            if(conet%2==1){\r\n               this.none=\"none\";\r\n               allcbitem=false;\r\n            }else{\r\n               this.none=\"block\";\r\n              allcbitem=true;\r\n            }\r\n            var cb=allcbitem;\r\n            this.allcb=cb;\r\n            for(var tiem of this.list){tiem.cb=cb;}\r\n            \r\n        },\r\n        deleteitem(e){\r\n            var idx=e.target.dataset.i;\r\n            var checked=e.target.checked;\r\n            this.list[idx].cb=checked;\r\n            var count=0;\r\n            for(var item of this.list){\r\n                if(item.cb)(count++);\r\n            }\r\n            if(count==this.list.length){\r\n                this.allcb=true;\r\n                this.none=\"block\";\r\n            }else{\r\n                this.allcb=false;\r\n                this.none=\"none\";\r\n            }\r\n        },\r\n        deletequan(){\r\n         var html=\"\";\r\n            for(var item of this.list){\r\n              \r\n                if(item.cb){\r\n                  console.log(item)\r\n                  html+=item.cid+\",\";      \r\n                }\r\n            }\r\n            html=html.substring(0,html.length-1);\r\n            var url=\"http://127.0.0.1:3000/\";\r\n               url+=\"removeduoge?cids=\"+html;\r\n            this.axios.get(url).then(result=>{\r\n                if(result.data.code==1){\r\n                    Toast(\"删除成功\");\r\n                \r\n                }\r\n           })\r\n         }\r\n    },\r\n    created(){\r\n        this.appcart();\r\n    }\r\n\r\n\r\n}\r\n</script>\r\n<style >\r\n  .app-cart{padding-top:45px;}\r\n  .app-cart-nav{width:70%;height:38px;position:fixed;z-index:11;right:0;line-height:45px;top:0px;\r\n             background:url(../image/home-bg.ba0dfe5d.png) no-repeat center center;\r\n            }\r\n  .app-cart-nav>b{color:#fff;margin-left:20%;}  \r\n  .app-cart-nav>span{float:right;color:#fff;font-weight:bold;margin-right:7%;font-size:0.9rem;}\r\n  .app-cart-footer{width:100%;height:50px;line-height:50px;position:fixed;z-index:11;\r\n                   bottom:7%;background-color:#fff;border-top:1px solid #ccc;}\r\n  .app-cart-footer>button:nth-child(1){width:30%;height:50px;float:right;font-size:1.1rem;line-height:35px;\r\n                        background-color:#00aeff;color:#fff;}\r\n  .app-cart-footer>b{float:right;margin:0 8px;color:red;font-size:1.1rem;}\r\n  .app-cart-footer>span:nth-child(3){display:block;width:25px;height:25px;margin:12px 5px 0 10px;\r\n                             border:1px solid #aaa;float: left;position:relative;}\r\n  .app-cart-footer>span:nth-child(3)>img{width:100%;position:absolute;top:0;display:block;}\r\n  .app-cart-footer>span:nth-child(4){float: left;margin:0 8px;font-size:0.9rem;}\r\n  .cart-contarner{width:100%;height:150px;display:flex;background-color:#fff;\r\n                   flex-wrap:wrap;position: relative;margin:3px 0;}\r\n  .cart-contarner::before{content:\"\";display:table;}\r\n  .cart-contarner>input{display:block;width:17px;height:17px;margin:15% 10px 0 10px;}\r\n  .cart-contarner-img{width:40%;height:80%;margin-top:10%;}\r\n  .cart-contarner-img>img{border:1px solid #eee;height:50%;margin:auto;}\r\n  .cart-contarner>div:nth-child(3){width:50%;height:150px;padding-top:8%;}\r\n  .cart-contarner>div:nth-child(3) h3{font-size:0.9rem;}\r\n  .cart-contarner>div:nth-child(3) span{font-size:0.8rem;color:#666;}\r\n  .cart-contarner>div:nth-child(3) h5{font-size:0.9rem;color:red;}\r\n  .cart-contarner>div:nth-child(4){position: absolute;bottom:65%;right:-80%;height:30px;position:relative;width:30%;height:30px;}\r\n  .btn-delete button{width:45px;height:35px;background-color:#00aeff;color:#fff;\r\n        border-radius:10px;font-size:0.5rem;text-align:center;border:none;}\r\n  .footer{height:80px;}\r\n  .deletequan{font-size:5px;background-color:#00aeff;line-height:18px;padding-left:6px;margin-top:10px;\r\n               border:none;\r\n              color:#fff;width:35px;height:30px;display:inline-block;border-radius:15px;}\r\n</style>"],"sourceRoot":"src\\components\\home"}]}