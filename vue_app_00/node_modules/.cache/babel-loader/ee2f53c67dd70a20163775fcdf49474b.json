{"remainingRequest":"D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\src\\components\\sub\\comment.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\src\\components\\sub\\comment.vue","mtime":1549000560426},{"path":"D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\html\\课程\\4月脚本\\2019-1-28\\src\\vue_app_00\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      pno: 0,\n      pageSize: 5,\n      list: [],\n      msg: \"\"\n    };\n  },\n  created: function created() {\n    this.getMore(); // this.addcomment();\n  },\n  methods: {\n    //添加评论\n    addcomment: function addcomment() {\n      var m = this.msg; //trim()去除字符串两端空格“ ”\n\n      var size = m.trim().length;\n\n      if (size == 0) {\n        Toast(\"评论不能为空\");\n        return;\n      }\n\n      ;\n      var nid = this.$route.query.nid; //1:创建参数对象  postData  测试\n      //stringify 将 js对象转换查询字符串\n\n      var postData = this.qs.stringify({\n        nid: nid,\n        content: this.msg\n      }); //2:发送post 请求         测试\n\n      var url = \"http://127.0.0.1:3000/\";\n      url += \"addcomment\";\n      this.axios.post(url, postData).then(function (result) {\n        console.log(result.data);\n      }); //3:接收返回数据            测试\n      //4:在created()调用        测试\n    },\n    //评论分页显示\n    getMore: function getMore() {\n      var _this = this;\n\n      this.pno++;\n      var url = \"http://127.0.0.1:3000/\";\n      url += \"getComment?nid=5\";\n      url += \"&pno=\" + this.pno;\n      url += \"&pageSize=\" + this.pageSize;\n      this.axios.get(url).then(function (result) {\n        var rows = _this.list.concat(result.data.data);\n\n        _this.list = rows;\n      });\n    }\n  } //1:创建函数  getMore(); \n  //2:data     pno pageSize list\n  //3:created() \n  //4:cmt-item 循环 nid=5  \n\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,CADA;AAEA,gBAAA,CAFA;AAGA,YAAA,EAHA;AAIA,WAAA;AAJA,KAAA;AAMA,GARA;AASA,SATA,qBASA;AACA,SAAA,OAAA,GADA,CAEA;AACA,GAZA;AAaA,WAAA;AACA;AACA,cAFA,wBAEA;AACA,UAAA,IAAA,KAAA,GAAA,CADA,CAEA;;AACA,UAAA,OAAA,EAAA,IAAA,GAAA,MAAA;;AACA,UAAA,QAAA,CAAA,EAAA;AAAA,cAAA,QAAA;AAAA;AAAA;;AAAA;AACA,UAAA,MAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CALA,CAMA;AACA;;AACA,UAAA,WAAA,KAAA,EAAA,CAAA,SAAA,CAAA;AACA,aAAA,GADA;AACA,iBAAA,KAAA;AADA,OAAA,CAAA,CARA,CAUA;;AACA,UAAA,MAAA,wBAAA;AACA,aAAA,YAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,OAAA,IAAA;AACA,OAFA,EAbA,CAgBA;AACA;AACA,KApBA;AAsBA;AACA,WAvBA,qBAuBA;AAAA;;AACA,WAAA,GAAA;AACA,UAAA,MAAA,wBAAA;AACA,aAAA,kBAAA;AACA,aAAA,UAAA,KAAA,GAAA;AACA,aAAA,eAAA,KAAA,QAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,MAAA,IAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,IAAA,CAAA;;AACA,cAAA,IAAA,GAAA,IAAA;AAEA,OAJA;AAKA;AAlCA,GAbA,CAkDA;AACA;AACA;AACA;;AArDA,CAAA","sourcesContent":["<!-- src/compoents/sub/comment.vue-->\r\n<!-- 子组件不用配置访问路径-->\r\n<template>\r\n  <div class=\"app-comment\">\r\n    \t\t<div class=\"mui-card\">\r\n\t\t\t\t<div class=\"mui-card-header\">\r\n        </div>\r\n\t\t\t\t<div class=\"mui-card-content\">\r\n\t\t\t\t\t<div class=\"mui-card-content-inner\">\r\n\t\t\t\t\t\t<textarea placeholder=\"请吐槽最多120个字\" maxlength=\"120\"v-model=\"msg\"></textarea>\r\n            <mt-button size=\"large\" type=\"primary\"@click=\"addcomment\">发表评论</mt-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"mui-card-footer\">\r\n            <div class=\"cmt-list\">\r\n              <div class=\"cmt-item\" v-for=\"(item,i) in list\" :key=\"item.id\">\r\n         <div>第{{i+1}}楼  发表时间:{{item.ctime | dateFilter}}</div>\r\n         <div>{{item.content}}</div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n\t\t\t</div>\r\n            <mt-button type=\"primary\"size=\"large\"@click=\"getMore\">加载跟多....</mt-button>\r\n  </div>\r\n</template>\r\n<script>\r\n   import {Toast} from 'mint-ui';\r\n  export default {\r\n    data(){\r\n      return {\r\n        pno:0,\r\n        pageSize:5,\r\n        list:[],\r\n        msg:\"\"\r\n      }\r\n    },\r\n    created(){\r\n      this.getMore();\r\n     // this.addcomment();\r\n    },\r\n    methods:{\r\n      //添加评论\r\n      addcomment(){\r\n           var m=this.msg;\r\n           //trim()去除字符串两端空格“ ”\r\n         var size=m.trim().length;\r\n           if(size==0){Toast(\"评论不能为空\");return;};\r\n         var nid=this.$route.query.nid;\r\n        //1:创建参数对象  postData  测试\r\n        //stringify 将 js对象转换查询字符串\r\n        var postData = this.qs.stringify({\r\n          nid:nid,content:this.msg });\r\n        //2:发送post 请求         测试\r\n        var url = \"http://127.0.0.1:3000/\";\r\n            url+=\"addcomment\";\r\n    this.axios.post(url,postData).then(result=>{\r\n          console.log(result.data);\r\n        })\r\n        //3:接收返回数据            测试\r\n        //4:在created()调用        测试\r\n      },\r\n     \r\n      //评论分页显示\r\n      getMore(){\r\n         this.pno++;\r\n         var url = \"http://127.0.0.1:3000/\";\r\n         url+=\"getComment?nid=5\";\r\n         url+=\"&pno=\"+this.pno;\r\n         url+=\"&pageSize=\"+this.pageSize;\r\n         this.axios.get(url).then(result=>{\r\n             var rows = this.list.concat(result.data.data);\r\n             this.list = rows;\r\n            \r\n         });\r\n      }\r\n    }\r\n  }\r\n  //1:创建函数  getMore(); \r\n  //2:data     pno pageSize list\r\n  //3:created() \r\n  //4:cmt-item 循环 nid=5  \r\n</script>\r\n<style>\r\n</style>\r\n"],"sourceRoot":"src\\components\\sub"}]}