{"remainingRequest":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\项目\\battlenent\\vue_app_00\\src\\components\\home\\Cart.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"E:\\项目\\battlenent\\vue_app_00\\src\\components\\home\\Cart.vue","mtime":1553134924000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"E:\\项目\\battlenent\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.app-cart{padding-top:45px;}\n.app-cart-nav{width:70%;height:38px;position:fixed;z-index:11;right:0;line-height:45px;top:0px;\n           background:url(../image/home-bg.ba0dfe5d.png) no-repeat center center;\n          }\n.app-cart-nav>b{color:#fff;margin-left:20%;}  \n.app-cart-nav>span{float:right;color:#fff;font-weight:bold;margin-right:7%;font-size:0.9rem;}\n.app-cart-footer{width:100%;height:50px;line-height:50px;position:fixed;z-index:11;\n                 bottom:7%;background-color:#fff;border-top:1px solid #ccc;}\n.app-cart-footer>button:nth-child(1){width:30%;height:50px;float:right;font-size:1.1rem;line-height:35px;\n                      background-color:#00aeff;color:#fff;}\n.app-cart-footer>b{float:right;margin:0 8px;color:red;font-size:1.1rem;}\n.app-cart-footer>span:nth-child(3){display:block;width:25px;height:25px;margin:12px 5px 0 10px;\n                           border:1px solid #aaa;float: left;position:relative;}\n.app-cart-footer>span:nth-child(3)>img{width:100%;position:absolute;top:0;display:block;}\n.app-cart-footer>span:nth-child(4){float: left;margin:0 8px;font-size:0.9rem;}\n.cart-contarner{width:100%;height:150px;display:flex;background-color:#fff;\n                 flex-wrap:wrap;position: relative;margin:3px 0;}\n.cart-contarner::before{content:\"\";display:table;}\n.cart-contarner>input{display:block;width:17px;height:17px;margin:15% 10px 0 10px;}\n.cart-contarner-img{width:40%;height:80%;margin-top:10%;}\n.cart-contarner-img>img{border:1px solid #eee;height:50%;margin:auto;}\n.cart-contarner>div:nth-child(3){width:50%;height:150px;padding-top:8%;}\n.cart-contarner>div:nth-child(3) h3{font-size:0.9rem;}\n.cart-contarner>div:nth-child(3) span{font-size:0.8rem;color:#666;}\n.cart-contarner>div:nth-child(3) h5{font-size:0.9rem;color:red;}\n.cart-contarner>div:nth-child(4){position: absolute;bottom:65%;right:-80%;height:30px;position:relative;width:30%;height:30px;}\n.btn-delete button{width:45px;height:35px;background-color:#00aeff;color:#fff;\n      border-radius:10px;font-size:0.5rem;text-align:center;border:none;}\n.footer{height:80px;}\n.deletequan{font-size:5px;background-color:#00aeff;line-height:18px;padding-left:6px;margin-top:10px;\n             border:none;\n            color:#fff;width:35px;height:30px;display:inline-block;border-radius:15px;}\n",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src\\components\\home","sourcesContent":["<template>\r\n   <div class=\"app-cart\">\r\n      <div class=\"app-cart-nav\">\r\n          <span @click=\"fanhui\">返回 &gt;</span>\r\n          <b>购物车</b>\r\n      </div>\r\n      <div class=\"app-cart-footer\">\r\n          <button>下单</button>\r\n          <b >￥{{zong}}.00</b>\r\n        <span @click=\"selectall\"><img src=\"../image/cart1.png\" alt=\"\" :style=\"'display:'+none\"></span>\r\n        <span>已选</span>\r\n        <button @click=\"deletequan\" class=\"deletequan\">删除</button>\r\n      </div>\r\n      <!--  ============================   -->\r\n       <div class=\"cart-contarner\" v-for=\"(item,i) of list\" :key=\"item.cid\"   >\r\n         <input type=\"checkbox\" @click=\"deleteitem\" :checked=\"item.cb\" :data-i=\"i\">\r\n         <div class=\"cart-contarner-img\">    \r\n             <img :src=\"item.img_url\" alt=\"\">\r\n         </div>\r\n        <div>\r\n            <h3>{{item.title}}</h3>\r\n            <span>限定礼包</span>\r\n            <h5>￥{{item.price}}.00</h5>\r\n        </div>\r\n        <div class=\"btn-delete\">\r\n            <button @click=\"deletecart\"  :data-cid=\"item.cid\" :data-idx=\"i\">删除</button>\r\n        </div>\r\n       </div>\r\n     <div class=\"footer\"></div>\r\n   </div>\r\n</template>\r\n<script>\r\n import {Toast} from \"mint-ui\";\r\nexport default {\r\n    data(){return{\r\n         list:[],\r\n         noneconet:0,\r\n         none:\"none\",\r\n         zong:0,\r\n         cb:false,\r\n         allcb:false\r\n    }},\r\n    methods: {\r\n        deletecart(e){\r\n             var cid=e.target.dataset.cid;\r\n             var idx=e.target.dataset.idx;\r\n             var url=\"http://127.0.0.1:3000/deletecart?cid=\"+cid;\r\n             this.axios.get(url).then(result=>{\r\n                 if(result.data.code==1){\r\n                     Toast(\"删除成功\");\r\n                     this.list.splice(idx,1);\r\n                 }\r\n                     \r\n                \r\n             })\r\n        },\r\n        fanhui(){\r\n             var pid=this.$route.query.pid;\r\n             if(pid==undefined){\r\n                this.$router.push(\"/Home\"); \r\n             }else{\r\n                 this.$router.push(\"/Detail?pid=\"+pid);\r\n             }\r\n        },\r\n        appcart(){\r\n           var url=\"http://127.0.0.1:3000/appcart\"\r\n           this.axios.get(url).then(result=>{\r\n               if(result.data.code == -1){\r\n                   Toast(\"请登录\");\r\n                   return;\r\n               }\r\n               var rows=result.data.data;\r\n               this.$store.commit(\"updateCount\",rows.length);\r\n               for(var item of rows){\r\n                  this.zong+=item.price;\r\n                  item.cb=false;\r\n                  this.list=rows;\r\n               }  \r\n              \r\n           })\r\n        },\r\n        selectall(e){\r\n            var conet=this.noneconet++;\r\n            var allcbitem=1;\r\n            if(conet%2==1){\r\n               this.none=\"none\";\r\n               allcbitem=false;\r\n            }else{\r\n               this.none=\"block\";\r\n              allcbitem=true;\r\n            }\r\n            var cb=allcbitem;\r\n            this.allcb=cb;\r\n            for(var tiem of this.list){tiem.cb=cb;}\r\n            \r\n        },\r\n        deleteitem(e){\r\n            var idx=e.target.dataset.i;\r\n            var checked=e.target.checked;\r\n            this.list[idx].cb=checked;\r\n            var count=0;\r\n            for(var item of this.list){\r\n                if(item.cb)(count++);\r\n            }\r\n            if(count==this.list.length){\r\n                this.allcb=true;\r\n                this.none=\"block\";\r\n            }else{\r\n                this.allcb=false;\r\n                this.none=\"none\";\r\n            }\r\n        },\r\n        deletequan(){\r\n         var html=\"\";\r\n            for(var item of this.list){\r\n              \r\n                if(item.cb){\r\n                  console.log(item)\r\n                  html+=item.cid+\",\";      \r\n                }\r\n            }\r\n            html=html.substring(0,html.length-1);\r\n            var url=\"http://127.0.0.1:3000/\";\r\n               url+=\"removeduoge?cids=\"+html;\r\n            this.axios.get(url).then(result=>{\r\n                if(result.data.code==1){\r\n                    Toast(\"删除成功\");\r\n                \r\n                }\r\n           })\r\n         }\r\n    },\r\n    created(){\r\n        this.appcart();\r\n    }\r\n\r\n\r\n}\r\n</script>\r\n<style >\r\n  .app-cart{padding-top:45px;}\r\n  .app-cart-nav{width:70%;height:38px;position:fixed;z-index:11;right:0;line-height:45px;top:0px;\r\n             background:url(../image/home-bg.ba0dfe5d.png) no-repeat center center;\r\n            }\r\n  .app-cart-nav>b{color:#fff;margin-left:20%;}  \r\n  .app-cart-nav>span{float:right;color:#fff;font-weight:bold;margin-right:7%;font-size:0.9rem;}\r\n  .app-cart-footer{width:100%;height:50px;line-height:50px;position:fixed;z-index:11;\r\n                   bottom:7%;background-color:#fff;border-top:1px solid #ccc;}\r\n  .app-cart-footer>button:nth-child(1){width:30%;height:50px;float:right;font-size:1.1rem;line-height:35px;\r\n                        background-color:#00aeff;color:#fff;}\r\n  .app-cart-footer>b{float:right;margin:0 8px;color:red;font-size:1.1rem;}\r\n  .app-cart-footer>span:nth-child(3){display:block;width:25px;height:25px;margin:12px 5px 0 10px;\r\n                             border:1px solid #aaa;float: left;position:relative;}\r\n  .app-cart-footer>span:nth-child(3)>img{width:100%;position:absolute;top:0;display:block;}\r\n  .app-cart-footer>span:nth-child(4){float: left;margin:0 8px;font-size:0.9rem;}\r\n  .cart-contarner{width:100%;height:150px;display:flex;background-color:#fff;\r\n                   flex-wrap:wrap;position: relative;margin:3px 0;}\r\n  .cart-contarner::before{content:\"\";display:table;}\r\n  .cart-contarner>input{display:block;width:17px;height:17px;margin:15% 10px 0 10px;}\r\n  .cart-contarner-img{width:40%;height:80%;margin-top:10%;}\r\n  .cart-contarner-img>img{border:1px solid #eee;height:50%;margin:auto;}\r\n  .cart-contarner>div:nth-child(3){width:50%;height:150px;padding-top:8%;}\r\n  .cart-contarner>div:nth-child(3) h3{font-size:0.9rem;}\r\n  .cart-contarner>div:nth-child(3) span{font-size:0.8rem;color:#666;}\r\n  .cart-contarner>div:nth-child(3) h5{font-size:0.9rem;color:red;}\r\n  .cart-contarner>div:nth-child(4){position: absolute;bottom:65%;right:-80%;height:30px;position:relative;width:30%;height:30px;}\r\n  .btn-delete button{width:45px;height:35px;background-color:#00aeff;color:#fff;\r\n        border-radius:10px;font-size:0.5rem;text-align:center;border:none;}\r\n  .footer{height:80px;}\r\n  .deletequan{font-size:5px;background-color:#00aeff;line-height:18px;padding-left:6px;margin-top:10px;\r\n               border:none;\r\n              color:#fff;width:35px;height:30px;display:inline-block;border-radius:15px;}\r\n</style>"]}]}